<HTML>

<body onload="pokeid()">



    <head>
        <title>Pokedex</title>
        <link rel="stylesheet" href="src/styles.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=K2D:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="fontawesome/font-awesome-4.7.0/css/font-awesome.min.css">
    </head>



    <div class="pokedex">
        <div class="pokedex-left">
            <h1 class="pokedex-title">Pokedex</h1>
            <div class="">



                <div class="">
                    <input type="text" class="poke-name-catcher">
                    <input type="button" onclick="pokename();" value="Busque pelo Nome do seu Pokemon">
                </div>
                <input type="text" class="poke-id-catcher" value="1">
                <input type="button" onclick="pokeid();" value="busque pelo ID do seu Pokemon">

                <div class="poke-imagens-flexer poke-imagens-margin">
                    <div class="poke-imagens-macho"></div>
                    <div class="poke-imagens-femea"></div>
                </div>



                <section class="poke-status-main">
                    <h3 class="">Caracteristicas Gerais</h3>

                    <div class="">
                        <div class="poke-status-row">
                            <div class="poke-status-division">
                                <div class="poke-status-item">
                                    <h3 class="">Nome</h3>
                                    <p class="poke-nome"></p>
                                </div>
                                <div class="poke-status-item">
                                    <h3 class="">ID</h3>
                                    <p class="poke-id"></p>
                                </div>
                                <div class="poke-status-item">
                                    <h3 class="">Tipos</h3>
                                    <p class="poke-tipos"></p>
                                </div>
                            </div>
                            <div class="poke-status-division">
                                <div class="poke-status-item">
                                    <h3>Status</h3>
                                    <p class="poke-status"></p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="poke-status-division">
                        <div class="poke-status-item">
                            <h3>Habilidades</h3>
                            <p class="poke-habilidades"></p>
                        </div>
                    </div>
                    <div class="poke-status-division">
                        <div class="poke-status-item">
                            <h3>Move-set</h3>
                            <p class="poke-moves"></p>
                        </div>

                    </div>
                </section>
            </div>


        </div>




        <div class="pokedex-right">
            <h2>Base de Pokemons</h2>
            <div>
                <input type="button" onclick="pokebase()" value="Veja a Database de Pokemons!">
                <input type="button" onclick="pokebaseremove()" value="-">
                <input type="button" onclick="pokebaseadd()" value="+">
                <input type="button" onclick="pokebaseclean()" value="Limpar">


            </div>
            <div class="allpoke-base">
                <div class="allpoke-base-name">
                </div>
                <div class="allpoke-base-id">
                </div>
                <div class="allpoke-base-img">
                </div>
            </div>

        </div>
    </div>
    <div class="">
        <script>
            console.log("pokemon")
            var AllPokeBaseLenght = 0;
            var pb = 0;

            function pokename() {
                fetch('https://pokeapi.co/api/v2/pokemon/?limit=1126', {
                    method: 'GET'

                })
                    .then(response => response.json())
                    .then(function (json) {
                        console.log(json);

                        var names001 = json.results;
                        var names002 = Object.keys(names001);
                        var namesLenght = Object.keys(names002).length;
                        var QueryPokeNames = document.querySelector('.poke-name-catcher').value;
                        var pid = 1;
                        const regexName = /\b[A-Z]/;
                        var QueryPokeNameFilterLowerCase = QueryPokeNames.charAt(0).toLowerCase() + QueryPokeNames.slice(1);
                        console.log(QueryPokeNames.charAt(0).toUpperCase() + QueryPokeNames.slice(1))

                        var none = 0;

                        for (i = 0; i < namesLenght; i++) {
                            // console.log(json.results[i].name);
                            // console.log(i);
                            if (json.results[i].name === QueryPokeNameFilterLowerCase) {
                                pid = +i + 1;

                                var idcatch = document.querySelector('.poke-id-catcher').value = [pid];
                                console.log(json.results[i]);
                                console.log(idcatch);


                                pokeid();
                            } else {
                                none++;
                                if (none == namesLenght) {
                                    alert("Nome Incorreto");
                                };
                            }

                        };
                    });
            }

            function pokeid() {
                var p = 1;
                var idcatch = document.querySelector('.poke-id-catcher').value;
                console.log(idcatch)



                var p = document.querySelector('.poke-id-catcher').value;
                fetch(`https://pokeapi.co/api/v2/pokemon/${p}`, {
                    method: 'GET'

                })
                    .then(response => response.json())
                    .then(function (json) {



                        //Input da base de dados do pokemon
                        console.log(json);

                        //Variavel do Nome do Pokemon

                        var QueryPokenome = document.querySelector('.poke-nome');
                        var QueryPokenames = document.querySelector('.poke-name-catcher');
                       
                        QueryPokenome.innerHTML = `<p class = "tituloNome"> ` + json.name;
                            
                        QueryPokenames.value = json.name;


                        //Variavel de ID do Pokemon

                        var QueryPokeId = document.querySelector('.poke-id');
                       
                        QueryPokeId.innerHTML = `<p class = "tituloid">` + json.id;

                        //Variaveis das Imagens do Pokemon
                        var imagens001 = json.forms;
                        var imagens002 = Object.keys(imagens001);
                        var imagensLenght = Object.keys(imagens002).length;
                        var QueryPokeImagensMale = document.querySelector('.poke-imagens-macho');
                        QueryPokeImagensMale.innerHTML = "";
                        var QueryPokeImagensFemale = document.querySelector('.poke-imagens-femea');
                        QueryPokeImagensFemale.innerHTML = "";


                        //Variaveis das Status do Pokemon
                        var status001 = json.stats;
                        var status002 = Object.keys(status001);
                        var statusLenght = Object.keys(status002).length;
                        var QueryPokeStatus = document.querySelector('.poke-status');
                        QueryPokeStatus.innerHTML = "";

                        //Variaveis das Tipos do Pokemon
                        var tipos001 = json.types;
                        var tipos002 = Object.keys(tipos001);
                        var tiposLenght = Object.keys(tipos002).length;
                        var QueryPokeTipos = document.querySelector('.poke-tipos');
                        QueryPokeTipos.innerHTML = "";

                        //Variaveis das Habilidades do Pokemon
                        var habilidades001 = json.abilities;
                        var habilidades002 = Object.keys(habilidades001);
                        var habilidadesLenght = Object.keys(habilidades002).length;
                        var QueryPokeHabilidades = document.querySelector('.poke-habilidades');
                        QueryPokeHabilidades.innerHTML = "";

                        //Variaveis doss Move-sets do Pokemon
                        var moves001 = json.moves;
                        var moves002 = Object.keys(moves001);
                        var movesLenght = Object.keys(moves002).length;
                        var QueryPokeMoves = document.querySelector('.poke-moves');
                        QueryPokeMoves.innerHTML = "";


                        //Funcionalidade de investigação
                        console.log(json.stats);

                        // console.log(Object.keys(habilidadesLenght).length);



                        //Função que imprime todas as imagens do Pokemon
                        function imagensInput() {
                            if (json.sprites.front_female != null) {
                                QueryPokeImagensMale.innerHTML += `<i class="gender-icon male-icon fa fa-mars" aria-hidden="true"></i>`;
                            } else {
                                QueryPokeImagensMale.innerHTML += `<i class="gender-icon male-n-female-icon fa fa-venus-mars" aria-hidden="true"></i>`;

                            }
                            
                            QueryPokeImagensMale.innerHTML += `<img src="` + json.sprites.front_default +
                                `" alt= "" class = "tituloImagens">`;
                            QueryPokeImagensMale.innerHTML += `<img src="` + json.sprites.back_default +
                                `" alt= "" class = "tituloImagens">`;

                            QueryPokeImagensMale.innerHTML += `<img src="` + "images/shine.png" +
                            `" alt= "" class="shine-imagens" id="shine-imagens">`;
                            QueryPokeImagensMale.innerHTML += `<div class="poke-imagens-flexer">`;
                            QueryPokeImagensMale.innerHTML += `<img src="` + json.sprites.front_shiny +
                                `" alt= "" class = "tituloImagens">`;
                            QueryPokeImagensMale.innerHTML += `<img src="` + json.sprites.back_shiny +
                                `" alt= "" class = "tituloImagens">`;
                            if (json.sprites.front_female != null) {
                                QueryPokeImagensFemale.innerHTML += ` <i class="gender-icon female-icon fa fa-venus" aria-hidden="true"></i>`;
                            }
                            QueryPokeImagensFemale.innerHTML += `<img src="` + json.sprites.front_female +
                                `" alt= "" class = "tituloImagens">`;
                            QueryPokeImagensFemale.innerHTML += `<img src="` + json.sprites.back_female +
                                `" alt= "" class = "tituloImagens">`;
                            QueryPokeImagensFemale.innerHTML += `<div/>`;


                            QueryPokeImagensFemale.innerHTML += `<img src="` + json.sprites.front_shiny_female +
                                `" alt= "" class = "tituloImagens">`;
                            QueryPokeImagensFemale.innerHTML += `<img src="` + json.sprites.back_shiny_female +
                                `" alt= "" class = "tituloImagens">`;
                            `.`


                        }
                        imagensInput();

                        

                        //Função que imprime todas os status do Pokemon
                        function statusInput() {


                            //Var para chamar o nome do status json.stats[i].stat.name  

                            for (i = 0; i < statusLenght; i++) {
                                var statNameNun = ""
                                if (i == 0) {
                                    statNameNun = "Vida"
                                } else if (i == 1) {
                                    statNameNun = "Ataque"

                                } else if (i == 2) {
                                    statNameNun = "Defesa"

                                } else if (i == 3) {
                                    statNameNun = "Ataque Especial"

                                } else if (i == 4) {
                                    statNameNun = "Defesa Especial"

                                } else if (i == 5) {
                                    statNameNun = "Velocidade"

                                };
                                QueryPokeStatus.innerHTML += `<p class = "tituloStatus">` + statNameNun + ` : ` + json.stats[i].base_stat + `</p>`;
                            };

                            `.`


                        }
                        statusInput();


                        //Função que imprime todas as habilidades do Pokemon
                        function abilitiesInput() {
                            let i = 0;

                            for (i = 0; i < habilidadesLenght; i++) {
                                QueryPokeHabilidades.innerHTML += `<p class = "tituloAbilidades">` +
                                    json.abilities[i]
                                        .ability.name;
                            };

                            `.`
                        }
                        abilitiesInput();

                        //Função que imprime todas os Moves do Pokemon
                        function movesInput() {
                            let i = 0;

                            for (i = 0; i < movesLenght; i++) {
                                QueryPokeMoves.innerHTML += `<p class = "tituloMoves">` + json.moves[i].move
                                    .name;
                            };

                            `.`
                        }
                        movesInput();



                        function typesInput() {


                            for (i = 0; i < tiposLenght; i++) {
                                QueryPokeTipos.innerHTML += `<p class = "tituloTipos"> ` + json.types[i]
                                    .type.name;

                            };

                            `.`


                        }
                        typesInput();


                        
                        

                    })
            };

            var offsetter = 0;

            function pokebaseadd() {

                offsetter += 7;
                console.log(offsetter);

                pokebase();
            }

            function pokebaseremove() {

                if (offsetter > 0) {
                    offsetter += -7;

                    console.log(offsetter);
                    pokebase();


                } else {
                    pokebase();


                }
            }

            function pokebaseclean() {
                offsetter = 0;

                QueryPokebasename = document.querySelector(".allpoke-base-name");
                QueryPokebaseid = document.querySelector(".allpoke-base-id");
                QueryPokebaseimg = document.querySelector(".allpoke-base-img");
                QueryPokebasename.innerHTML = ``;
                QueryPokebaseid.innerHTML = ``;
                QueryPokebaseimg.innerHTML = ``;
            }


            function pokebase() {

                QueryPokebasename = document.querySelector(".allpoke-base-name");
                QueryPokebaseid = document.querySelector(".allpoke-base-id");
                QueryPokebaseimg = document.querySelector(".allpoke-base-img");

                QueryPokebasename.innerHTML = ``;
                QueryPokebaseid.innerHTML = ``;
                QueryPokebaseimg.innerHTML = ``;

                async function fetchPoke() {
                    
                    for (p = (offsetter + 1); p <= (offsetter + 7); p++) {
                        await fetch(`https://pokeapi.co/api/v2/pokemon/${p}`, {
                            method: 'GET'
                        })
                            .then(response => response.json())
                            .then(function (json) {

                                console.log(json.sprites.front_default);
                                // var resutados = (json.results);


                                // console.log(QueryPokebase);
                                QueryPokebasename.innerHTML += `<p class = "tituloNome1"> ` + json.name + `</p>`;

                                QueryPokebaseid.innerHTML += `<p class = "tituloId1"> ` + p + `</p>`;

                                QueryPokebaseimg.innerHTML += `<img src="` + json.sprites.front_default +
                                    `" alt="" class="allpokebasemodify">`;


                                // QueryPokebaseid.innerHTML += `<img src="` + json. + `">`;

                            });
                    }
                }

                fetchPoke();

            }

        </script>
</body>

</HTML>