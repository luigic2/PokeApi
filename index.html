<HTML>

<body>

    <style>
        .poke-name-catcher {
            margin-bottom: 15px;

        }

        .leftside-Pokedex {
            margin-right: 50px;
        }

        .poke-imagens-flexer {
            display: flex;
        }

        .pokedex-flexer {
            display: flex;
        }

        .allpoke-base-flexer {
            display: inline-grid;
            grid-template-columns: auto auto auto;
        }

        .allpoke-base-img {
            display: grid;
        }

        .allpokebasemodify {
            margin-top: 15px;
            margin-bottom: 15px;
        }

        .allpokebasemodify {
            object-fit: none;
            width: 75px;
            height: 75px;
        }

        .allpoke-base {
            display: flex;
        }

        .allpoke-base-name {
            margin-right: 15px;
        }

        .tituloNome1,
        .tituloId1 {
            padding-top: 50px;
            padding-bottom: 50px;
        }

        .allpoke-base-id {
            padding-right: 20px;
        }
    </style>

    <head>
        <title>Pokedex</title>

    </head>
    <div class="pokedex">
        <h1 class="">Pokedex</h1>
        <div class="pokedex-flexer">



            <div class="leftside-Pokedex">
                <h2 class="">Pokemon</h2>

                <div class="">
                    <input type="text" class="poke-name-catcher">
                    <input type="button" onclick="pokename();" value="Busque pelo Nome do seu Pokemon">
                </div>
                <input type="text" class="poke-id-catcher">
                <input type="button" onclick="pokeid();" value="busque pelo ID do seu Pokemon">

                <div class="poke-imagens"></div>
                <p class="poke-nome"></p>

                <h3 class="">Caracteristicas Gerais</h2>
                    <h4 class="">ID</h2>

                        <p class="poke-id"></p>
                        <h4 class="">Tipos</h2>

                            <p class="poke-tipos"></p>

                            <h3>Status</h3>
                            <p class="poke-status"></p>

                            <h3>Habilidades</h3>
                            <p class="poke-habilidades"></p>

                            <h3>Move-set</h3>
                            <p class="poke-moves"></p>
            </div>
            <div class="">
                <h2>Base de Pokemons</h2>
                <div>
                    <input type="button" onclick="pokebase()" value="Veja a Database de Pokemons!">
                    <input type="button" onclick="pokebaseremove()" value="-">
                    <input type="button" onclick="pokebaseadd()" value="+">
                    <input type="button" onclick="pokebaseclean()" value="Limpar">


                </div>
                <div class="allpoke-base">
                    <div class="allpoke-base-name">
                    </div>
                    <div class="allpoke-base-id">
                    </div>
                    <div class="allpoke-base-img">
                    </div>
                </div>
                <!-- 





                   <div class="allpoke-base-flexer">

                        <div class="all-poke-base">
                            <div class="all-poke-nome">


                            </div>
                            <div class="all-poke-id">


                            </div>


                        </div>



                    </div> 
                </div> -->
            </div>
        </div>
    </div>
    <script>
        var AllPokeBaseLenght = 0;
        var pb = 0;

        function pokename() {
            fetch('https://pokeapi.co/api/v2/pokemon/?limit=1126', {
                    method: 'GET'

                })
                .then(response => response.json())
                .then(function (json) {
                    console.log(json);

                    var names001 = json.results;
                    var names002 = Object.keys(names001);
                    var namesLenght = Object.keys(names002).length;
                    var QueryPokeNames = document.querySelector('.poke-name-catcher').value;
                    var pid = 1;
                    console.log(QueryPokeNames);
                    var none = 0;

                    for (i = 0; i < namesLenght; i++) {
                        // console.log(json.results[i].name);
                        // console.log(i);
                        if (json.results[i].name === QueryPokeNames) {
                            console.log("TAINDO")
                            pid = +i + 1;

                            var idcatch = document.querySelector('.poke-id-catcher').value = [pid];
                            console.log(json.results[i]);
                            console.log(idcatch);


                            pokeid();
                        } else {
                            none++;
                            if (none == namesLenght) {
                                alert("Nome Incorreto");
                            };
                        }

                    };
                });
        }

        function pokeid() {
            var p = 1;
            var idcatch = document.querySelector('.poke-id-catcher').value;
            console.log(idcatch)



            var p = document.querySelector('.poke-id-catcher').value;
            fetch(`https://pokeapi.co/api/v2/pokemon/${p}`, {
                    method: 'GET'

                })
                .then(response => response.json())
                .then(function (json) {



                    //Input da base de dados do pokemon
                    console.log(json);

                    //Variavel do Nome do Pokemon

                    var QueryPokenome = document.querySelector('.poke-nome');
                    var QueryPokenames = document.querySelector('.poke-name-catcher');
                    QueryPokenome.innerHTML = "";
                    console.log(QueryPokenames);


                    QueryPokenome.innerHTML += `<p class = "tituloNome"> Nome: ` + json.name;
                    QueryPokenames.value = json.name;


                    //Variavel de ID do Pokemon

                    var QueryPokeId = document.querySelector('.poke-id');
                    QueryPokeId.innerHTML = "";
                    QueryPokeId.innerHTML += `<p class = "tituloid">` + json.id;

                    //Variaveis das Imagens do Pokemon
                    var imagens001 = json.forms;
                    var imagens002 = Object.keys(imagens001);
                    var imagensLenght = Object.keys(imagens002).length;
                    var QueryPokeImagens = document.querySelector('.poke-imagens');
                    QueryPokeImagens.innerHTML = "";

                    //Variaveis das Status do Pokemon
                    var status001 = json.stats;
                    var status002 = Object.keys(status001);
                    var statusLenght = Object.keys(status002).length;
                    var QueryPokeStatus = document.querySelector('.poke-status');
                    QueryPokeStatus.innerHTML = "";

                    //Variaveis das Tipos do Pokemon
                    var tipos001 = json.types;
                    var tipos002 = Object.keys(tipos001);
                    var tiposLenght = Object.keys(tipos002).length;
                    var QueryPokeTipos = document.querySelector('.poke-tipos');
                    QueryPokeTipos.innerHTML = "";

                    //Variaveis das Habilidades do Pokemon
                    var habilidades001 = json.abilities;
                    var habilidades002 = Object.keys(habilidades001);
                    var habilidadesLenght = Object.keys(habilidades002).length;
                    var QueryPokeHabilidades = document.querySelector('.poke-habilidades');
                    QueryPokeHabilidades.innerHTML = "";

                    //Variaveis doss Move-sets do Pokemon
                    var moves001 = json.moves;
                    var moves002 = Object.keys(moves001);
                    var movesLenght = Object.keys(moves002).length;
                    var QueryPokeMoves = document.querySelector('.poke-moves');
                    QueryPokeMoves.innerHTML = "";


                    //Funcionalidade de investigação
                    console.log(json.stats);

                    // console.log(Object.keys(habilidadesLenght).length);



                    //Função que imprime todas as imagens do Pokemon
                    function imagensInput() {


                        QueryPokeImagens.innerHTML += `<div class ="poke-imagens-flexer">`;
                        QueryPokeImagens.innerHTML += `<img src="` + json.sprites.front_default +
                            `" alt= "" class = "tituloImagens">`;
                        QueryPokeImagens.innerHTML += `<img src="` + json.sprites.back_default +
                            `" alt= "" class = "tituloImagens">`;
                        QueryPokeImagens.innerHTML += `<div/>`;

                        QueryPokeImagens.innerHTML += `<div class="poke-imagens-flexer">`;
                        QueryPokeImagens.innerHTML += `<img src="` + json.sprites.front_shiny +
                            `" alt= "" class = "tituloImagens">`;
                        QueryPokeImagens.innerHTML += `<img src="` + json.sprites.back_shiny +
                            `" alt= "" class = "tituloImagens">`;
                        QueryPokeImagens.innerHTML += `<div/>`;

                        QueryPokeImagens.innerHTML += `<div class="poke-imagens-flexer">`;
                        QueryPokeImagens.innerHTML += `<img src="` + json.sprites.front_female +
                            `" alt= "" class = "tituloImagens">`;
                        QueryPokeImagens.innerHTML += `<img src="` + json.sprites.back_female +
                            `" alt= "" class = "tituloImagens">`;
                        QueryPokeImagens.innerHTML += `<div/>`;

                        QueryPokeImagens.innerHTML += `<div class="poke-imagens-flexer">`;
                        QueryPokeImagens.innerHTML += `<img src="` + json.sprites.front_shiny_female +
                            `" alt= "" class = "tituloImagens">`;
                        QueryPokeImagens.innerHTML += `<img src="` + json.sprites.back_shiny_female +
                            `" alt= "" class = "tituloImagens">`;
                        QueryPokeImagens.innerHTML += `<div/>`;

                        `.`


                    }
                    imagensInput();


                    //Função que imprime todas os status do Pokemon
                    function statusInput() {


                        for (i = 0; i < statusLenght; i++) {
                            QueryPokeStatus.innerHTML += `<p class = "tituloStatus">` + json.stats[i]
                                .stat.name + ` : ` + json.stats[i].base_stat + `</p>`;
                        };

                        `.`


                    }
                    statusInput();


                    //Função que imprime todas as habilidades do Pokemon
                    function abilitiesInput() {
                        let i = 0;

                        for (i = 0; i < habilidadesLenght; i++) {
                            QueryPokeHabilidades.innerHTML += `<p class = "tituloAbilidades">` +
                                json.abilities[i]
                                .ability.name;
                        };

                        `.`
                    }
                    abilitiesInput();

                    //Função que imprime todas os Moves do Pokemon
                    function movesInput() {
                        let i = 0;

                        for (i = 0; i < movesLenght; i++) {
                            QueryPokeMoves.innerHTML += `<p class = "tituloMoves">` + json.moves[i].move
                                .name;
                        };

                        `.`
                    }
                    movesInput();



                    function typesInput() {


                        for (i = 0; i < tiposLenght; i++) {
                            QueryPokeTipos.innerHTML += `<p class = "tituloTipos"> ` + json.types[i]
                                .type.name;

                        };

                        `.`


                    }
                    typesInput();



                })
        };

        var offsetter = 0;

        function pokebaseadd() {

            offsetter += 7;
            console.log(offsetter);

            pokebase();
        }

        function pokebaseremove() {

            if (offsetter > 0) {
                offsetter += -7;

                console.log(offsetter);
                pokebase();


            } else {
                pokebase();


            }
        }

        function pokebaseclean() {
            offsetter = 0;

            QueryPokebasename = document.querySelector(".allpoke-base-name");
            QueryPokebaseid = document.querySelector(".allpoke-base-id");
            QueryPokebaseimg = document.querySelector(".allpoke-base-img");
            QueryPokebasename.innerHTML = ``;
            QueryPokebaseid.innerHTML = ``;
            QueryPokebaseimg.innerHTML = ``;
        }


        function pokebase() {

            QueryPokebasename = document.querySelector(".allpoke-base-name");
            QueryPokebaseid = document.querySelector(".allpoke-base-id");
            QueryPokebaseimg = document.querySelector(".allpoke-base-img");

            QueryPokebasename.innerHTML = ``;
            QueryPokebaseid.innerHTML = ``;
            QueryPokebaseimg.innerHTML = ``;

            async function fetchPoke() {
                for (p = (offsetter + 1); p <= (offsetter + 7); p++) {
                    await fetch(`https://pokeapi.co/api/v2/pokemon/${p}`, {
                            method: 'GET'
                        })
                        .then(response => response.json())
                        .then(function (json) {

                            console.log(json.sprites.front_default);
                            // var resutados = (json.results);


                            // console.log(QueryPokebase);
                            QueryPokebasename.innerHTML += `<p class = "tituloNome1"> ` + json.name + `</p>`;

                            QueryPokebaseid.innerHTML += `<p class = "tituloId1"> ` + p + `</p>`;

                            QueryPokebaseimg.innerHTML += `<img src="` + json.sprites.front_default +
                                `" alt="" class="allpokebasemodify">`;


                            // QueryPokebaseid.innerHTML += `<img src="` + json. + `">`;

                        });
                }

            }

            fetchPoke();
        }
    </script>
</body>

</HTML>